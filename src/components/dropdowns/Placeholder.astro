---
// Components
import Option from './Option.astro'

// i18n
import { getJson, getLangFromUrl } from '@/i18n/utils'

const lang = getLangFromUrl(Astro.url)
const { dropdowns } = getJson(lang)
---

<Option
  value=""
  text={dropdowns.contact.placeholder}
  selected={true}
  isPlaceholder={true}
/>

<script>
  import { $ } from '@/utils/dom'

  const isThereAnyPlaceholder = $('.is-placeholder')

  const $dropdownContact = $('#contact-method') as HTMLSelectElement

  if (isThereAnyPlaceholder != null) {
    $dropdownContact.style.color = '#999'
  }

  $dropdownContact?.addEventListener('change', () => {
    const lastSelected = $dropdownContact.selectedIndex

    if (lastSelected !== 0) {
      $dropdownContact.style.color = '#000'
    }
  })
</script>
